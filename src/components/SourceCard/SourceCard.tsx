import React, { FC } from 'react'

// import { useAppDispatch } from 'hooks'
// import './DComponent.sass'

interface SourceCardProps {
  title: string,
  type: string,
  sourceId?: string,
  onClick?: any
}

const csv = (
  <path
     d="M 137.656,77.312498 124.68749,64.34375 C 123.28098,62.937502 121.25,62 119.37498,62 H 87.343752 C 83.281248,62.15625 80,65.437498 80,69.656249 V 134.65601 C 80,138.719 83.281248,142 87.343752,142 H 132.5 c 4.06248,0 7.49999,-3.281 7.49999,-7.34399 V 82.624997 c 0,-1.874998 -0.93751,-3.906249 -2.34399,-5.312499 z M 120,67.156249 c 0.3125,0.156264 0.781,0.312501 1.09399,0.625 l 13.125,13.124999 c 0.31201,0.312499 0.46851,0.78125 0.62499,1.25 H 120 Z m 14.99999,67.499761 c 0,1.24999 -1.25,2.49998 -2.49999,2.49998 H 87.343752 c -1.25,0 -2.5,-1.24999 -2.5,-2.49998 V 69.656249 c 0,-1.406251 1.25,-2.65625 2.5,-2.65625 h 27.656258 v 16.406249 c 0,2.03125 1.56248,3.593749 3.75,3.593749 h 16.24998 z M 98.749976,102 h -1.249984 c -4.218744,0 -7.5,3.4375 -7.5,7.49998 V 114.5 c 0,4.21898 3.281256,7.49998 7.5,7.49998 h 1.249984 c 0.625016,0 1.250024,-0.46899 1.250024,-1.24999 v -2.50001 c 0,-0.62497 -0.625008,-1.24999 -1.250024,-1.24999 H 97.499992 C 96.093744,116.99999 95,115.90599 95,114.5 v -5.00002 c 0,-1.24999 1.093744,-2.49999 2.499992,-2.49999 h 1.249984 C 99.374992,106.99999 100,106.531 100,105.75 v -2.5 C 100,102.62501 99.374992,102 98.749976,102 Z m 17.500014,0 c -0.781,0 -1.24998,0.62501 -1.24998,1.25 v 3.281 c 0,5.62499 1.87498,10.7815 5.62499,14.688 0.46899,0.62499 1.09398,0.78098 1.87498,0.78098 0.625,0 1.25002,-0.15605 1.71901,-0.78098 3.75002,-3.9065 5.781,-9.06301 5.781,-14.688 v -3.281 c 0,-0.62499 -0.62498,-1.25 -1.24999,-1.25 h -2.50001 c -0.78101,0 -1.25,0.62501 -1.25,1.25 v 3.281 c 0,3.28149 -0.93749,6.25 -2.50001,8.90649 C 120.781,112.781 120,109.81249 120,106.531 v -3.281 c 0,-0.62499 -0.62502,-1.25 -1.24999,-1.25 z m -8.28125,6.71901 c -0.15621,-0.15655 -0.3125,-0.46902 -0.3125,-0.62502 0,-0.46899 0.62502,-0.938 1.56251,-0.938 H 111.25 c 0.625,0 1.25001,-0.62499 1.25001,-1.24998 V 103.406 c 0,-0.78099 -0.62501,-1.25 -1.25001,-1.25 h -2.03125 c -3.59375,0 -6.56249,2.65649 -6.56249,5.93799 0,1.7185 0.78124,3.28102 2.03123,4.37502 l 3.4375,2.96848 c 0.15622,0.15653 0.3125,0.4685 0.3125,0.62501 0,0.4685 -0.625,0.93749 -1.56248,0.93749 H 105 c -0.78126,0 -1.24999,0.62502 -1.24999,1.24999 v 2.50001 c 0,0.781 0.46873,1.24999 1.24999,1.24999 h 1.87501 c 3.594,0 6.56247,-2.656 6.56247,-5.93748 0,-1.71851 -0.78148,-3.2815 -2.03147,-4.37499 z"
     fill="#3457a6"
  />
)

const add = (
  <path d="M131.562 97.6875H112.812V78.9375C112.812 78.4688 112.344 78 111.875 78H108.125C107.539 78 107.188 78.4688 107.188 78.9375V97.6875H88.4375C87.8516 97.6875 87.5 98.1562 87.5 98.625V102.375C87.5 102.961 87.8516 103.312 88.4375 103.312H107.188V122.062C107.188 122.648 107.539 123 108.125 123H111.875C112.344 123 112.812 122.648 112.812 122.062V103.312H131.562C132.031 103.312 132.5 102.961 132.5 102.375V98.625C132.5 98.1562 132.031 97.6875 131.562 97.6875Z" fill="#F8CD30"/>
)


const cardWithSource = (type: string) => {
  let img

  switch(type) {
    case "csv":
      img = csv
      break

    case "add":
      img = add
      break
  }

  return (
    <svg width="220" height="204" viewBox="0 0 220 204" fill="none" xmlns="http://www.w3.org/2000/svg">
      <g filter="url(#filter0_d)">
        <rect x="2" width="216" height="200" rx="2" fill="white"/>
        <rect x="2.5" y="0.5" width="215" height="199" rx="1.5" stroke="#EAEAEA"/>
      </g>

      { img }

      <defs>
        <filter id="filter0_d" x="0" y="0" width="220" height="204" filterUnits="userSpaceOnUse" colorInterpolationFilters="sRGB">
          <feFlood floodOpacity="0" result="BackgroundImageFix"/>
          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
          <feOffset dy="2"/>
          <feGaussianBlur stdDeviation="1"/>
          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
          <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
          <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
        </filter>
      </defs>
    </svg>
  )
}


const SourceCard: FC<SourceCardProps> = (props) => {
  const title = props.title

  return (
    <div id={props.sourceId ?? title} onClick={props.onClick} style={{width: 216}}>
      <div style={{cursor: "pointer", position: "relative", width: "220", height: "204"}}>
        { cardWithSource(props.type) }
      </div>

      <p className="header-label pl-2 pt-1" style={{textOverflow: "ellipsis", overflow: "hidden", whiteSpace: "nowrap", wordWrap: "break-word"}} > { title } </p>
    </div>
  )
}

export default SourceCard
